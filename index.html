<!DOCTYPE html>

<html ng-app="pelicanApp">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
	<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style.css">
</head>


<body ng-controller="PelicanController">



	<!-- NON-BOOTSTRAP MODAL -->
<!-- 	<div class="jmodal">
		<h1>Title</h1>
		<a href="http://dictionary.reference.com/browse/pejorative" target="_blank">http://dictionary.reference.com/browse/pejorative</a>
		<hr>
		<p>having a disparaging, derogatory, or belittling effect or force:</p>
	</div> -->
	<!-- END NON-BOOTSTRAP MODAL -->


	<!-- NAVBAR -->

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
    		<a class="navbar-brand" href="#">Pelican</a>
    		<form class="navbar-form search-bar" role="search">
        		<div class="form-group">
         			<input class="form-control" placeholder="Search">
        		</div>
        		<button class="hidden">Search</button>
        		<span class="glyphicon glyphicon-search"></span>
      		</form>
		</div>
	</nav>

	<!-- END NAVBAR -->


	<div style="padding-top: 50px;">

		<!-- JUMBOTRON -->
		
		<div class="jumbotron pelican-banner">
			<div class="container">
				<h1>The Pelican Blog</h1>

	  			<button class="btn btn-primary" ng-click="openBigModal()" data-toggle="modal" data-target="#addPostModal">+ Add a new item</button>
			</div>
		</div>

		<!-- END JUMBOTRON -->




		<!-- LISTS -->

		<div class="container" ng-cloak>
			<div class="col-xs-6">

				<div class="list" ng-repeat="(key,data) in posts track by $index">
					<div class="page-header">
		  				<h2 class="uppercase">{{lists[key]}}</h2>
					</div>

					<ul class="post-data">
						<li ng-repeat="(key, post) in data track by $index" data-toggle="modal" data-target="#postModal" ng-click="changeModal(data[key].title, data[key].link, data[key].description)">
							<p class="post-title uppercase">{{data[key].title}}</p>
							<a class="post-link" ng-href="{{data[key].link}}" target="_blank" ng-modal="selectedLink">{{data[key].link}}</a>
							<p class="post-description">{{data[key].description}}</p>
						</li>
					</ul>
				</div>

			</div>
		</div>

		<!-- END LISTS -->








		<!-- FOOTER -->
		<div class="jumbotron" style="background: #222222"></div>


	</div>

	<!-- POST MODAL -->
	<div class="modal" id="postModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h2 class="modal-title uppercase" id="myModalLabel">{{activeTitle}}</h2>
					<a href="link" target="_blank" ng-href="{{activeLink}}">{{activeLink}}</a>
				</div>

				<div class="modal-body">
					<p>{{activeDescription}}</p>
				</div>

				<div class="modal-footer">
					<h3>Comments</h3>
				</div>

			</div>
		</div>
	</div>
	<!-- END POST MODAL -->


	<!-- NEW ADD POST MODAL -->
	<div class="modal" id="addPostModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h2>Pick a list</h2>
				</div>


				<div class="modal-body">
						{{alertMessage}}
						<div class="list-wrapper" ng-show="chooseList">
							<div>
								<ul ng-repeat="list in lists">
									<li class="available-list" ng-click="selectList(list)">{{list}}</li>
								</ul>
							<div class="form-inline">
								<form>
									<input class="form-control" ng-model="postList" placeholder="New list name">
									<button class="btn btn-default" ng-click="createList(postList)">Create a new list</button>
								</form>
							</div>
							</div>
						</div>

						<div ng-show="addPost">
							<form>
								<div class="form-group">
									<input class="form-control" ng-model="postTitle" placeholder="Title">
								</div>
								<div class="form-group">
									<input class="form-control" ng-model="postLink" placeholder="Link">
								</div>
								<div class="form-group">
									<textarea class="form-control" ng-model="postDescription" placeholder="Thoughts">
									</textarea>
								</div>
									<button class="btn btn-primary" ng-click="createPost(postTitle, postLink, postDescription)">Post it!</button>
							</form>
						</div>

				</div>

			</div>
		</div>
	</div>
	<!-- END NEW ADD POST MODAL -->



	</div>

	<!-- END ADD POST MODAL -->




	<!-- Angular File -->
	<script type="text/javascript" src="app.js"></script>
</body>
</html>